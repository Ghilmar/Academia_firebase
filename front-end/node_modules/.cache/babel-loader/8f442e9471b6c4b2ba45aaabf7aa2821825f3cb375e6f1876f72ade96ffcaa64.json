{"ast":null,"code":"// Capa API principal (REST -> json-server)\n// También dejamos puntos claros para cambiar a Firebase más adelante.\n// Endpoints esperados por json-server: /mentors, /courses, /bookings\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:3001\";\nasync function handleResponse(res) {\n  const text = await res.text();\n  let payload;\n  try {\n    payload = text ? JSON.parse(text) : null;\n  } catch (e) {\n    payload = text;\n  }\n  if (!res.ok) {\n    var _payload;\n    throw new Error(((_payload = payload) === null || _payload === void 0 ? void 0 : _payload.message) || payload || \"API error\");\n  }\n  return payload;\n}\n\n/* Mentors */\nexport async function getMentors(query = \"\") {\n  const res = await fetch(`${API_URL}/mentors${query}`);\n  return handleResponse(res);\n}\nexport async function getMentor(id) {\n  const res = await fetch(`${API_URL}/mentors/${id}`);\n  return handleResponse(res);\n}\nexport async function createMentor(data) {\n  const res = await fetch(`${API_URL}/mentors`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  return handleResponse(res);\n}\nexport async function updateMentor(id, data) {\n  const res = await fetch(`${API_URL}/mentors/${id}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  return handleResponse(res);\n}\nexport async function deleteMentor(id) {\n  const res = await fetch(`${API_URL}/mentors/${id}`, {\n    method: \"DELETE\"\n  });\n  if (!res.ok) throw new Error(\"Failed to delete mentor\");\n  return true;\n}\n\n/* Courses */\nexport async function getCourses(query = \"\") {\n  const res = await fetch(`${API_URL}/courses${query}`);\n  return handleResponse(res);\n}\nexport async function getCourse(id) {\n  const res = await fetch(`${API_URL}/courses/${id}`);\n  return handleResponse(res);\n}\nexport async function createCourse(data) {\n  const res = await fetch(`${API_URL}/courses`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  return handleResponse(res);\n}\nexport async function updateCourse(id, data) {\n  const res = await fetch(`${API_URL}/courses/${id}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  return handleResponse(res);\n}\nexport async function deleteCourse(id) {\n  const res = await fetch(`${API_URL}/courses/${id}`, {\n    method: \"DELETE\"\n  });\n  if (!res.ok) throw new Error(\"Failed to delete course\");\n  return true;\n}\n\n/* Bookings (para reservar sesiones) */\nexport async function createBooking(data) {\n  // json-server guardará en /bookings si existe, o lo crea automáticamente\n  const res = await fetch(`${API_URL}/bookings`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  return handleResponse(res);\n}","map":{"version":3,"names":["API_URL","process","env","REACT_APP_API_URL","handleResponse","res","text","payload","JSON","parse","e","ok","_payload","Error","message","getMentors","query","fetch","getMentor","id","createMentor","data","method","headers","body","stringify","updateMentor","deleteMentor","getCourses","getCourse","createCourse","updateCourse","deleteCourse","createBooking"],"sources":["/run/media/elghill/Disco Local D/2025_2/Ingenieria de Software/RPOYECTO/front-end v_1/files (1)/src/api/index.js"],"sourcesContent":["// Capa API principal (REST -> json-server)\n// También dejamos puntos claros para cambiar a Firebase más adelante.\n// Endpoints esperados por json-server: /mentors, /courses, /bookings\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:3001\";\n\nasync function handleResponse(res) {\n  const text = await res.text();\n  let payload;\n  try {\n    payload = text ? JSON.parse(text) : null;\n  } catch (e) {\n    payload = text;\n  }\n  if (!res.ok) {\n    throw new Error(payload?.message || payload || \"API error\");\n  }\n  return payload;\n}\n\n/* Mentors */\nexport async function getMentors(query = \"\") {\n  const res = await fetch(`${API_URL}/mentors${query}`);\n  return handleResponse(res);\n}\n\nexport async function getMentor(id) {\n  const res = await fetch(`${API_URL}/mentors/${id}`);\n  return handleResponse(res);\n}\n\nexport async function createMentor(data) {\n  const res = await fetch(`${API_URL}/mentors`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data)\n  });\n  return handleResponse(res);\n}\n\nexport async function updateMentor(id, data) {\n  const res = await fetch(`${API_URL}/mentors/${id}`, {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data)\n  });\n  return handleResponse(res);\n}\n\nexport async function deleteMentor(id) {\n  const res = await fetch(`${API_URL}/mentors/${id}`, {\n    method: \"DELETE\"\n  });\n  if (!res.ok) throw new Error(\"Failed to delete mentor\");\n  return true;\n}\n\n/* Courses */\nexport async function getCourses(query = \"\") {\n  const res = await fetch(`${API_URL}/courses${query}`);\n  return handleResponse(res);\n}\n\nexport async function getCourse(id) {\n  const res = await fetch(`${API_URL}/courses/${id}`);\n  return handleResponse(res);\n}\n\nexport async function createCourse(data) {\n  const res = await fetch(`${API_URL}/courses`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data)\n  });\n  return handleResponse(res);\n}\n\nexport async function updateCourse(id, data) {\n  const res = await fetch(`${API_URL}/courses/${id}`, {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data)\n  });\n  return handleResponse(res);\n}\n\nexport async function deleteCourse(id) {\n  const res = await fetch(`${API_URL}/courses/${id}`, {\n    method: \"DELETE\"\n  });\n  if (!res.ok) throw new Error(\"Failed to delete course\");\n  return true;\n}\n\n/* Bookings (para reservar sesiones) */\nexport async function createBooking(data) {\n  // json-server guardará en /bookings si existe, o lo crea automáticamente\n  const res = await fetch(`${API_URL}/bookings`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data)\n  });\n  return handleResponse(res);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}