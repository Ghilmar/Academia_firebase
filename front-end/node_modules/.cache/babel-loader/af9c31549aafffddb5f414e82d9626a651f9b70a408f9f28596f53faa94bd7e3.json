{"ast":null,"code":"/**\n * Servicio de Usuarios - Usa Firebase Firestore en lugar de REST API\n * Maneja GET, POST, PUT, DELETE de usuarios\n */\n\nimport { getAllUsers as firebaseGetAllUsers, createUser as firebaseCreateUser, updateUser as firebaseUpdateUser, deleteUser as firebaseDeleteUser, getUserById as firebaseGetUserById } from './firebaseService';\n\n/**\n * GET /api/users - Obtener todos los usuarios\n */\nexport async function getAllUsers() {\n  try {\n    return await firebaseGetAllUsers();\n  } catch (error) {\n    console.error(\"Error fetching users:\", error);\n    throw error;\n  }\n}\n\n/**\n * GET /api/users/:id - Obtener un usuario por ID\n */\nexport async function getUserById(id) {\n  if (!id) throw new Error(\"User ID is required\");\n  try {\n    return await firebaseGetUserById(id);\n  } catch (error) {\n    console.error(`Error fetching user ${id}:`, error);\n    throw error;\n  }\n}\n\n/**\n * POST /api/users - Crear un nuevo usuario\n */\nexport async function createUser(data) {\n  if (!data) throw new Error(\"User data is required\");\n  try {\n    const res = await fetch(`${API_URL}/users`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.getItem(\"token\") || \"\"}`\n      },\n      body: JSON.stringify(data)\n    });\n    return await handleResponse(res);\n  } catch (error) {\n    console.error(\"Error creating user:\", error);\n    throw error;\n  }\n}\n\n/**\n * PUT /api/users/:id - Actualizar un usuario\n */\nexport async function updateUser(id, data) {\n  if (!id) throw new Error(\"User ID is required\");\n  if (!data) throw new Error(\"User data is required\");\n  try {\n    const res = await fetch(`${API_URL}/users/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.getItem(\"token\") || \"\"}`\n      },\n      body: JSON.stringify(data)\n    });\n    return await handleResponse(res);\n  } catch (error) {\n    console.error(`Error updating user ${id}:`, error);\n    throw error;\n  }\n}\n\n/**\n * DELETE /api/users/:id - Eliminar un usuario\n */\nexport async function deleteUser(id) {\n  if (!id) throw new Error(\"User ID is required\");\n  try {\n    const res = await fetch(`${API_URL}/users/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem(\"token\") || \"\"}`\n      }\n    });\n    if (!res.ok) {\n      const error = await res.text();\n      throw new Error(error || \"Failed to delete user\");\n    }\n    return true;\n  } catch (error) {\n    console.error(`Error deleting user ${id}:`, error);\n    throw error;\n  }\n}\nexport default {\n  getAllUsers,\n  getUserById,\n  createUser,\n  updateUser,\n  deleteUser\n};","map":{"version":3,"names":["getAllUsers","firebaseGetAllUsers","createUser","firebaseCreateUser","updateUser","firebaseUpdateUser","deleteUser","firebaseDeleteUser","getUserById","firebaseGetUserById","error","console","id","Error","data","res","fetch","API_URL","method","headers","localStorage","getItem","body","JSON","stringify","handleResponse","ok","text"],"sources":["/run/media/elghill/Disco Local D/2025_2/Ingenieria de Software/RPOYECTO/proyecto v1/front-end/src/services/userService.js"],"sourcesContent":["/**\n * Servicio de Usuarios - Usa Firebase Firestore en lugar de REST API\n * Maneja GET, POST, PUT, DELETE de usuarios\n */\n\nimport { getAllUsers as firebaseGetAllUsers, createUser as firebaseCreateUser, updateUser as firebaseUpdateUser, deleteUser as firebaseDeleteUser, getUserById as firebaseGetUserById } from './firebaseService';\n\n/**\n * GET /api/users - Obtener todos los usuarios\n */\nexport async function getAllUsers() {\n  try {\n    return await firebaseGetAllUsers();\n  } catch (error) {\n    console.error(\"Error fetching users:\", error);\n    throw error;\n  }\n}\n\n/**\n * GET /api/users/:id - Obtener un usuario por ID\n */\nexport async function getUserById(id) {\n  if (!id) throw new Error(\"User ID is required\");\n  try {\n    return await firebaseGetUserById(id);\n  } catch (error) {\n    console.error(`Error fetching user ${id}:`, error);\n    throw error;\n  }\n}\n\n/**\n * POST /api/users - Crear un nuevo usuario\n */\nexport async function createUser(data) {\n  if (!data) throw new Error(\"User data is required\");\n  try {\n    const res = await fetch(`${API_URL}/users`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.getItem(\"token\") || \"\"}`\n      },\n      body: JSON.stringify(data)\n    });\n    return await handleResponse(res);\n  } catch (error) {\n    console.error(\"Error creating user:\", error);\n    throw error;\n  }\n}\n\n/**\n * PUT /api/users/:id - Actualizar un usuario\n */\nexport async function updateUser(id, data) {\n  if (!id) throw new Error(\"User ID is required\");\n  if (!data) throw new Error(\"User data is required\");\n  try {\n    const res = await fetch(`${API_URL}/users/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.getItem(\"token\") || \"\"}`\n      },\n      body: JSON.stringify(data)\n    });\n    return await handleResponse(res);\n  } catch (error) {\n    console.error(`Error updating user ${id}:`, error);\n    throw error;\n  }\n}\n\n/**\n * DELETE /api/users/:id - Eliminar un usuario\n */\nexport async function deleteUser(id) {\n  if (!id) throw new Error(\"User ID is required\");\n  try {\n    const res = await fetch(`${API_URL}/users/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem(\"token\") || \"\"}`\n      }\n    });\n    if (!res.ok) {\n      const error = await res.text();\n      throw new Error(error || \"Failed to delete user\");\n    }\n    return true;\n  } catch (error) {\n    console.error(`Error deleting user ${id}:`, error);\n    throw error;\n  }\n}\n\nexport default {\n  getAllUsers,\n  getUserById,\n  createUser,\n  updateUser,\n  deleteUser\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}